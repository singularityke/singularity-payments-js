---
title: C2B Payments
description: Accept customer-initiated payments through M-Pesa paybill and till numbers
---

import { Tab, Tabs } from "fumadocs-ui/components/tabs";
import { Callout } from "fumadocs-ui/components/callout";
import { Steps, Step } from "fumadocs-ui/components/steps";

## Overview

C2B (Customer to Business) allows customers to initiate payments from their M-Pesa account directly to your business. Unlike STK Push where you initiate the payment, C2B payments are triggered by the customer through USSD, SIM Toolkit, or the M-Pesa app.

## How It Works

1. **Register URLs**: Register your validation and confirmation URLs with M-Pesa
2. **Customer Initiates**: Customer sends money to your paybill/till number via M-Pesa
3. **Validation Request**: M-Pesa sends a validation request to your validation URL
4. **Validate Payment**: Your application validates the payment and responds
5. **Confirmation Callback**: M-Pesa sends the payment confirmation to your confirmation URL
6. **Process Payment**: Your application processes the confirmed payment

## Setup Callback URL

The SDK uses a catch-all route to handle all M-Pesa callbacks automatically. You need to set up this route in your project.

<Tabs items={["Next.js", "SvelteKit", "Nuxt", "Elysia", "Express", "Fastify", "Hono"]}>
  <Tab value="Next.js">
    Create the file at `app/api/mpesa/[...mpesa]/route.ts`:

```typescript
import { mpesa } from "~/lib/mpesa";

export const { POST } = mpesa.handlers.catchAll;
```

  </Tab>
  <Tab value="SvelteKit">
    Create the file at `src/routes/api/mpesa/[...path]/+server.ts`:

```typescript
import { mpesa } from "$lib/mpesa";

export const POST = mpesa.handlers.catchAll.POST;
```

  </Tab>
  <Tab value="Nuxt">
    Create the file at `server/api/mpesa/[...path].post.ts`:

```typescript
import { mpesa } from "../../utils/mpesa";

export default mpesa.handlers.catchAll;
```

  </Tab>
  <Tab value="Elysia">
```typescript
import { Elysia } from "elysia";
import { cors } from "@elysiajs/cors";
import { createMpesa } from "@singularity-payments/elysia";

const mpesa = createMpesa({
consumerKey: process.env.MPESA_CONSUMER_KEY!,
consumerSecret: process.env.MPESA_CONSUMER_SECRET!,
passkey: process.env.MPESA_PASSKEY!,
shortcode: process.env.MPESA_SHORTCODE!,
environment: "sandbox",
callbackUrl: `${process.env.APP_URL}/api/mpesa/callback`,
});

const app = new Elysia()
.use(
cors({
origin: "http://localhost:3000",
credentials: true,
allowedHeaders: ["Content-Type", "Authorization"],
methods: ["GET", "POST", "OPTIONS"],
})
)
.get("/", () => "M-Pesa Payment API")
.get("/health", () => ({ status: "ok" }))
.group("/api/mpesa", (app) => app.use(mpesa.app))
.listen(3004);

console.log(`Elysia is running at ${app.server?.hostname}:${app.server?.port}`);

````

  </Tab>

  <Tab value="Express">
```typescript
import "dotenv/config";
import express from "express";
import cors from "cors";
import { createMpesa } from "@singularity-payments/express";

const app = express();

app.use(
  cors({
    origin: ["http://localhost:3000", "http://localhost:3001"],
    credentials: true,
    methods: ["GET", "POST", "PUT", "DELETE", "OPTIONS", "PATCH"],
    allowedHeaders: ["Content-Type", "Authorization", "X-Requested-With"],
    preflightContinue: false,
    optionsSuccessStatus: 204,
  })
);

app.use(express.json());
app.use(express.urlencoded({ extended: true }));

const mpesa = createMpesa({
  consumerKey: process.env.MPESA_CONSUMER_KEY!,
  consumerSecret: process.env.MPESA_CONSUMER_SECRET!,
  passkey: process.env.MPESA_PASSKEY!,
  shortcode: process.env.MPESA_SHORTCODE!,
  environment: "sandbox",
  callbackUrl: `${process.env.APP_URL}/api/mpesa/callback`,
});

const mpesaRouter = express.Router();
mpesa.router(mpesaRouter);
app.use("/api/mpesa", mpesaRouter);

app.listen(3001, () => {
  console.log("Server running on port 3001");
});
````

  </Tab>

  <Tab value="Fastify">
```typescript
import Fastify from "fastify";
import cors from "@fastify/cors";
import { config } from "dotenv";
import { createMpesa } from "@singularity-payments/fastify";

config();

const fastify = Fastify({
logger: true,
});

fastify.register(cors, {
origin: "http://localhost:3000",
credentials: true,
});

const mpesa = createMpesa({
consumerKey: process.env.MPESA_CONSUMER_KEY!,
consumerSecret: process.env.MPESA_CONSUMER_SECRET!,
passkey: process.env.MPESA_PASSKEY!,
shortcode: process.env.MPESA_SHORTCODE!,
environment: "sandbox",
callbackUrl: `${process.env.APP_URL}/api/mpesa/callback`,
});

fastify.register(
async (instance) => {
mpesa.router(instance);
},
{ prefix: "/api/mpesa" }
);

const start = async () => {
try {
await fastify.listen({ port: 3003, host: "0.0.0.0" });
console.log("Server running on port 3003");
} catch (err) {
fastify.log.error(err);
process.exit(1);
}
};

start();

````

  </Tab>

  <Tab value="Hono">
```typescript
import { Hono } from "hono";
import { serve } from "@hono/node-server";
import { config } from "dotenv";
import { createMpesa } from "@singularity-payments/hono";
import { cors } from "hono/cors";

config();

const app = new Hono();

app.use("/api/*", cors());
app.use(
  "/api/*",
  cors({
    origin: "http://localhost:3000",
    allowHeaders: ["X-Custom-Header", "Upgrade-Insecure-Requests"],
    allowMethods: ["POST", "GET", "OPTIONS"],
    exposeHeaders: ["Content-Length", "X-Kuma-Revision"],
    maxAge: 600,
    credentials: true,
  })
);

const mpesa = createMpesa({
  consumerKey: process.env.MPESA_CONSUMER_KEY!,
  consumerSecret: process.env.MPESA_CONSUMER_SECRET!,
  passkey: process.env.MPESA_PASSKEY!,
  shortcode: process.env.MPESA_SHORTCODE!,
  environment: "sandbox",
  callbackUrl: `${process.env.APP_URL}/api/mpesa/callback`,
});

app.route("/api/mpesa", mpesa.app);

serve({
  fetch: app.fetch,
  port: 3002,
});

console.log("Server running on port 3002");
````

  </Tab>
</Tabs>

Your callback URL will be: `https://yourdomain.com/api/mpesa`

## Local Development with ngrok

For local testing, use ngrok to expose your local server to the internet:

```bash
ngrok http 3000
```

Copy the HTTPS URL (e.g., `https://abc123.ngrok.io`) and use it as your callback URL:

```typescript
const mpesa = createMpesa({
  callbackUrl: "https://abc123.ngrok.io/api/mpesa",
});
```

<Callout type="warn">
  Remember to update your callback URL to your production domain before
  deploying.
</Callout>

## Registration

Before receiving C2B payments, you must register your validation and confirmation URLs with M-Pesa.

### Server-Side Registration

```typescript
import { mpesa } from "~/lib/mpesa";

async function registerC2BUrls() {
  try {
    const response = await mpesa.client.registerC2BUrl({
      shortCode: "174379",
      responseType: "Completed",
      confirmationURL: "https://yourdomain.com/api/mpesa/c2b/confirmation",
      validationURL: "https://yourdomain.com/api/mpesa/c2b/validation",
    });

    console.log("C2B URLs registered:", response);
  } catch (error) {
    console.error("Registration failed:", error);
  }
}
```

The catch-all route automatically handles both validation and confirmation callbacks.

### Registration Response

```json
{
  "OriginatorCoversationID": "29115-34620561-1",
  "ResponseCode": "0",
  "ResponseDescription": "Success"
}
```

## Simulate C2B Payment

Test C2B payments in sandbox using the simulate endpoint:

### Server-Side

```typescript
const response = await mpesa.client.simulateC2B({
  shortCode: "174379",
  commandID: "CustomerPayBillOnline",
  amount: 100,
  phoneNumber: "254712345678",
  billRefNumber: "ORDER-123",
});
```

### Client-Side

```typescript
const { data, error } = await mpesaClient.simulateC2B({
  shortCode: "174379",
  commandID: "CustomerPayBillOnline",
  amount: 100,
  phoneNumber: "254712345678",
  billRefNumber: "ORDER-123",
});

if (error) {
  console.error("Simulation failed:", error);
} else {
  console.log("Simulation successful:", data);
}
```

<Callout type="info">
  Simulation is only available in sandbox environment and triggers the same
  validation and confirmation flow as real payments.
</Callout>

## API Reference

### Register C2B URLs

```typescript
interface C2BRegisterRequest {
  shortCode: string;
  responseType: "Completed" | "Cancelled";
  confirmationURL: string;
  validationURL: string;
}
```

#### Parameters

| Parameter         | Type   | Required | Description                                |
| ----------------- | ------ | -------- | ------------------------------------------ |
| `shortCode`       | string | Yes      | Your paybill or till number                |
| `responseType`    | string | Yes      | `"Completed"` or `"Cancelled"`             |
| `confirmationURL` | string | Yes      | URL to receive payment confirmations       |
| `validationURL`   | string | Yes      | URL to validate payments before processing |

#### Response

```typescript
interface C2BRegisterResponse {
  OriginatorCoversationID: string;
  ResponseCode: string;
  ResponseDescription: string;
}
```

#### Response Codes

| Code           | Description         | Action                        |
| -------------- | ------------------- | ----------------------------- |
| `0`            | Success             | URLs registered successfully  |
| `1`            | Rejected            | Check error message and retry |
| `500.001.1001` | Invalid credentials | Verify consumer key/secret    |

### Simulate C2B Payment

```typescript
interface C2BSimulateRequest {
  shortCode: string;
  commandID: "CustomerPayBillOnline" | "CustomerBuyGoodsOnline";
  amount: number;
  phoneNumber: string;
  billRefNumber: string;
}
```

#### Parameters

| Parameter       | Type   | Required | Description                                             |
| --------------- | ------ | -------- | ------------------------------------------------------- |
| `shortCode`     | string | Yes      | Your paybill or till number                             |
| `commandID`     | string | Yes      | `"CustomerPayBillOnline"` or `"CustomerBuyGoodsOnline"` |
| `amount`        | number | Yes      | Payment amount in KES                                   |
| `phoneNumber`   | string | Yes      | Customer's phone number (254XXXXXXXXX)                  |
| `billRefNumber` | string | Yes      | Account reference (order ID, invoice number, etc.)      |

## Handling C2B Callbacks

The catch-all route automatically handles callbacks. Configure your callback handlers when initializing the client.

### Validation Request

M-Pesa sends a validation request before processing the payment. Your application must respond within 30 seconds to accept or reject the payment.

<Tabs items={["Next.js", "SvelteKit", "Nuxt", "Elysia", "Express", "Fastify", "Hono"]}>
  <Tab value="Next.js">
```typescript
import { createMpesa } from "@singularity-payments/nextjs";

export const mpesa = createMpesa(
  {
    consumerKey: process.env.MPESA_CONSUMER_KEY!,
    consumerSecret: process.env.MPESA_CONSUMER_SECRET!,
    environment: "sandbox",
    shortcode: "174379",
    passkey: process.env.MPESA_PASSKEY!,
    callbackUrl: process.env.MPESA_CALLBACK_URL!,
  },
  {
    callbackOptions: {
      onC2BValidation: async (data) => {
        console.log("Validating C2B payment:", {
          transactionId: data.transactionId,
          amount: data.amount,
          msisdn: data.msisdn,
          billRefNumber: data.billRefNumber,
        });

        if (data.amount < 1) {
          return false;
        }

        const order = await db.orders.findUnique({
          where: { orderNumber: data.billRefNumber },
        });

        if (!order) {
          return false;
        }

        if (order.amount !== data.amount) {
          return false;
        }

        return true;
      },
    },

}
);

````

  </Tab>
  <Tab value="SvelteKit">
```typescript
import { createMpesa } from "@singularity-payments/sveltekit";
import {
  MPESA_CONSUMER_KEY,
  MPESA_CONSUMER_SECRET,
  MPESA_PASSKEY,
  MPESA_SHORTCODE,
  MPESA_CALLBACK_URL,
} from "$env/static/private";

export const mpesa = createMpesa(
  {
    consumerKey: MPESA_CONSUMER_KEY,
    consumerSecret: MPESA_CONSUMER_SECRET,
    passkey: MPESA_PASSKEY,
    shortcode: MPESA_SHORTCODE,
    environment: "sandbox",
    callbackUrl: MPESA_CALLBACK_URL,
  },
  {
    callbackOptions: {
      onC2BValidation: async (data) => {
        console.log("Validating C2B payment:", {
          transactionId: data.transactionId,
          amount: data.amount,
          msisdn: data.msisdn,
          billRefNumber: data.billRefNumber,
        });

        if (data.amount < 1) {
          return false;
        }

        const order = await db.orders.findUnique({
          where: { orderNumber: data.billRefNumber },
        });

        if (!order) {
          return false;
        }

        if (order.amount !== data.amount) {
          return false;
        }

        return true;
      },
    },
  }
);
````

  </Tab>
  <Tab value="Nuxt">
```typescript
import { createMpesa } from "@singularity-payments/nuxt";

const config = useRuntimeConfig();

export const mpesa = createMpesa(
  {
    consumerKey: config.mpesaConsumerKey,
    consumerSecret: config.mpesaConsumerSecret,
    passkey: config.mpesaPasskey,
    shortcode: config.mpesaShortcode,
    environment: "sandbox",
    callbackUrl: config.mpesaCallbackUrl,
  },
  {
    callbackOptions: {
      onC2BValidation: async (data) => {
        console.log("Validating C2B payment:", {
          transactionId: data.transactionId,
          amount: data.amount,
          msisdn: data.msisdn,
          billRefNumber: data.billRefNumber,
        });

        if (data.amount < 1) {
          return false;
        }

        const order = await db.orders.findUnique({
          where: { orderNumber: data.billRefNumber },
        });

        if (!order) {
          return false;
        }

        if (order.amount !== data.amount) {
          return false;
        }

        return true;
      },
    },

}
);

````

  </Tab>
  <Tab value="Elysia">
```typescript
import { Elysia } from "elysia";
import { cors } from "@elysiajs/cors";
import { createMpesa } from "@singularity-payments/elysia";

const mpesa = createMpesa(
  {
    consumerKey: process.env.MPESA_CONSUMER_KEY!,
    consumerSecret: process.env.MPESA_CONSUMER_SECRET!,
    passkey: process.env.MPESA_PASSKEY!,
    shortcode: process.env.MPESA_SHORTCODE!,
    environment: "sandbox",
    callbackUrl: `${process.env.APP_URL}/api/mpesa/callback`,
  },
  {
    callbackOptions: {
      onC2BValidation: async (data) => {
        console.log("Validating C2B payment:", {
          transactionId: data.transactionId,
          amount: data.amount,
          msisdn: data.msisdn,
          billRefNumber: data.billRefNumber,
        });

        if (data.amount < 1) {
          return false;
        }

        const order = await db.orders.findUnique({
          where: { orderNumber: data.billRefNumber },
        });

        if (!order) {
          return false;
        }

        if (order.amount !== data.amount) {
          return false;
        }

        return true;
      },
    },
  }
);

const app = new Elysia()
  .use(
    cors({
      origin: "http://localhost:3000",
      credentials: true,
      allowedHeaders: ["Content-Type", "Authorization"],
      methods: ["GET", "POST", "OPTIONS"],
    })
  )
  .group("/api/mpesa", (app) => app.use(mpesa.app))
  .listen(3004);

console.log(`Elysia is running at ${app.server?.hostname}:${app.server?.port}`);
````

  </Tab>
  <Tab value="Express">
```typescript
import "dotenv/config";
import express from "express";
import cors from "cors";
import { createMpesa } from "@singularity-payments/express";

const app = express();

app.use(
cors({
origin: ["http://localhost:3000", "http://localhost:3001"],
credentials: true,
})
);

app.use(express.json());

const mpesa = createMpesa(
{
consumerKey: process.env.MPESA_CONSUMER_KEY!,
consumerSecret: process.env.MPESA_CONSUMER_SECRET!,
passkey: process.env.MPESA_PASSKEY!,
shortcode: process.env.MPESA_SHORTCODE!,
environment: "sandbox",
callbackUrl: `${process.env.APP_URL}/api/mpesa/callback`,
},
{
callbackOptions: {
onC2BValidation: async (data) => {
console.log("Validating C2B payment:", {
transactionId: data.transactionId,
amount: data.amount,
msisdn: data.msisdn,
billRefNumber: data.billRefNumber,
});

        if (data.amount < 1) {
          return false;
        }

        const order = await db.orders.findUnique({
          where: { orderNumber: data.billRefNumber },
        });

        if (!order) {
          return false;
        }

        if (order.amount !== data.amount) {
          return false;
        }

        return true;
      },
    },

}
);

const mpesaRouter = express.Router();
mpesa.router(mpesaRouter);
app.use("/api/mpesa", mpesaRouter);

app.listen(3001, () => {
console.log("Server running on port 3001");
});

````

  </Tab>
  <Tab value="Fastify">
```typescript
import Fastify from "fastify";
import cors from "@fastify/cors";
import { config } from "dotenv";
import { createMpesa } from "@singularity-payments/fastify";

config();

const fastify = Fastify({
  logger: true,
});

fastify.register(cors, {
  origin: "http://localhost:3000",
  credentials: true,
});

const mpesa = createMpesa(
  {
    consumerKey: process.env.MPESA_CONSUMER_KEY!,
    consumerSecret: process.env.MPESA_CONSUMER_SECRET!,
    passkey: process.env.MPESA_PASSKEY!,
    shortcode: process.env.MPESA_SHORTCODE!,
    environment: "sandbox",
    callbackUrl: `${process.env.APP_URL}/api/mpesa/callback`,
  },
  {
    callbackOptions: {
      onC2BValidation: async (data) => {
        console.log("Validating C2B payment:", {
          transactionId: data.transactionId,
          amount: data.amount,
          msisdn: data.msisdn,
          billRefNumber: data.billRefNumber,
        });

        if (data.amount < 1) {
          return false;
        }

        const order = await db.orders.findUnique({
          where: { orderNumber: data.billRefNumber },
        });

        if (!order) {
          return false;
        }

        if (order.amount !== data.amount) {
          return false;
        }

        return true;
      },
    },
  }
);

fastify.register(
  async (instance) => {
    mpesa.router(instance);
  },
  { prefix: "/api/mpesa" }
);

const start = async () => {
  try {
    await fastify.listen({ port: 3003, host: "0.0.0.0" });
    console.log("Server running on port 3003");
  } catch (err) {
    fastify.log.error(err);
    process.exit(1);
  }
};

start();
````

  </Tab>
  <Tab value="Hono">
```typescript
import { Hono } from "hono";
import { serve } from "@hono/node-server";
import { config } from "dotenv";
import { createMpesa } from "@singularity-payments/hono";
import { cors } from "hono/cors";

config();

const app = new Hono();

app.use("/api/\*", cors({
origin: "http://localhost:3000",
credentials: true,
}));

const mpesa = createMpesa(
{
consumerKey: process.env.MPESA_CONSUMER_KEY!,
consumerSecret: process.env.MPESA_CONSUMER_SECRET!,
passkey: process.env.MPESA_PASSKEY!,
shortcode: process.env.MPESA_SHORTCODE!,
environment: "sandbox",
callbackUrl: `${process.env.APP_URL}/api/mpesa/callback`,
},
{
callbackOptions: {
onC2BValidation: async (data) => {
console.log("Validating C2B payment:", {
transactionId: data.transactionId,
amount: data.amount,
msisdn: data.msisdn,
billRefNumber: data.billRefNumber,
});

        if (data.amount < 1) {
          return false;
        }

        const order = await db.orders.findUnique({
          where: { orderNumber: data.billRefNumber },
        });

        if (!order) {
          return false;
        }

        if (order.amount !== data.amount) {
          return false;
        }

        return true;
      },
    },

}
);

app.route("/api/mpesa", mpesa.app);

serve({
fetch: app.fetch,
port: 3002,
});

console.log("Server running on port 3002");

````

  </Tab>
</Tabs>

### Confirmation Callback

After validation passes, M-Pesa sends a confirmation with the final payment details.

```typescript
callbackOptions: {
  onC2BConfirmation: async (data) => {
    console.log("C2B payment confirmed:", {
      transactionId: data.transactionId,
      amount: data.amount,
      msisdn: data.msisdn,
      billRefNumber: data.billRefNumber,
      firstName: data.firstName,
      lastName: data.lastName,
    });

    await db.payments.create({
      data: {
        transactionId: data.transactionId,
        orderNumber: data.billRefNumber,
        amount: data.amount,
        phoneNumber: data.msisdn,
        customerName: `${data.firstName || ""} ${data.lastName || ""}`.trim(),
        status: "completed",
        transactionTime: new Date(data.transactionTime),
      },
    });

    await db.orders.update({
      where: { orderNumber: data.billRefNumber },
      data: {
        status: "paid",
        paidAt: new Date(),
      },
    });

    await sendConfirmationEmail(data);
  },

  validateIp: true,

  isDuplicate: async (transactionId) => {
    const existing = await db.payments.findUnique({
      where: { transactionId },
    });
    return !!existing;
  },
}
````

### C2B Callback Data Structure

```typescript
interface ParsedC2BCallback {
  transactionType: string;
  transactionId: string;
  transactionTime: string;
  amount: number;
  businessShortCode: string;
  billRefNumber: string;
  invoiceNumber?: string;
  msisdn: string;
  firstName?: string;
  middleName?: string;
  lastName?: string;
}
```

### Raw Callback Structure

```typescript
interface C2BCallback {
  TransactionType: string;
  TransID: string;
  TransTime: string;
  TransAmount: string;
  BusinessShortCode: string;
  BillRefNumber: string;
  InvoiceNumber?: string;
  OrgAccountBalance?: string;
  ThirdPartyTransID?: string;
  MSISDN: string;
  FirstName?: string;
  MiddleName?: string;
  LastName?: string;
}
```

## Implementation Example

### Complete C2B Flow

```typescript
import { db } from "./db";
import { orders, payments } from "./schema";
import { eq } from "drizzle-orm";
import { createMpesa } from "@singularity-payments/nextjs";

async function setupC2B() {
  await mpesa.client.registerC2BUrl({
    shortCode: "174379",
    responseType: "Completed",
    confirmationURL: "https://yourdomain.com/api/mpesa/c2b/confirmation",
    validationURL: "https://yourdomain.com/api/mpesa/c2b/validation",
  });
}

export const mpesa = createMpesa(
  {
    consumerKey: process.env.MPESA_CONSUMER_KEY!,
    consumerSecret: process.env.MPESA_CONSUMER_SECRET!,
    environment: "sandbox",
    shortcode: "174379",
    passkey: process.env.MPESA_PASSKEY!,
    callbackUrl: process.env.MPESA_CALLBACK_URL!,
  },
  {
    callbackOptions: {
      onC2BValidation: async (data) => {
        try {
          const order = await db
            .select()
            .from(orders)
            .where(eq(orders.orderNumber, data.billRefNumber))
            .limit(1);

          if (order.length === 0) {
            console.log("Order not found:", data.billRefNumber);
            return false;
          }

          if (order[0].status === "paid") {
            console.log("Order already paid:", data.billRefNumber);
            return false;
          }

          if (Number(order[0].amount) !== data.amount) {
            console.log("Amount mismatch:", {
              expected: order[0].amount,
              received: data.amount,
            });
            return false;
          }

          return true;
        } catch (error) {
          console.error("Validation error:", error);
          return false;
        }
      },

      onC2BConfirmation: async (data) => {
        try {
          await db.insert(payments).values({
            transactionId: data.transactionId,
            orderNumber: data.billRefNumber,
            amount: data.amount,
            phoneNumber: data.msisdn,
            customerName:
              `${data.firstName || ""} ${data.lastName || ""}`.trim(),
            status: "completed",
            transactionTime: new Date(data.transactionTime),
            createdAt: new Date(),
          });

          await db
            .update(orders)
            .set({
              status: "paid",
              paidAt: new Date(),
              updatedAt: new Date(),
            })
            .where(eq(orders.orderNumber, data.billRefNumber));

          console.log("Payment processed successfully:", data.transactionId);
        } catch (error) {
          console.error("Confirmation processing error:", error);
          throw error;
        }
      },

      validateIp: true,

      isDuplicate: async (transactionId) => {
        const existing = await db
          .select()
          .from(payments)
          .where(eq(payments.transactionId, transactionId))
          .limit(1);
        return existing.length > 0;
      },

      logger: {
        info: (message, data) => console.log(message, data),
        error: (message, data) => console.error(message, data),
        warn: (message, data) => console.warn(message, data),
      },
    },
  },
);
```
